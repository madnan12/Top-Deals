{% extends 'Business/base.html' %}
{% block title %} Top Deals {% endblock title %}
{% block body %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load tailwind_filters %}
<style>
    .delete-row {
        display: none;
    }
</style>
<div class="col-span-1 lg:col-span-4 m-4 lg:ml-0 px-[1rem]">
    <div class="flex flex-col gap-1">

        <!-- <a href="/createdeal">
            <div class="flex items-center gap-2 mb-4">
                <svg class="rotate-180" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 8H17M10 1L17 8L10 15" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                <h1 class="font-semibold text-2xl">Deals</h1>
            </div>
        </a> -->

        <form action="" method='POST' data-store-url="{% url 'load_store_location' %}" class="create_deal_form_p" enctype="multipart/form-data">
            {% csrf_token %}
        <div class="modal-body relative py-[1.3rem] deal_parent_p flex flex-col gap-6">
            
            <!-- <form method="POST" id="personForm" class="personForm create_deal_form_p new_update_as_deal" data-cities-url="{% url 'ajax_load_cities' %}" data-categories-url="{% url 'ajax_load_categories' %}" enctype="multipart/form-data" novalidate>
                {% csrf_token %}
                
                <div class="step-one-form hidden">
                    <div class="flex flex-col gap-3">
                        <div class="flex flex-col gap-2 text-[#205a42] ">
                            <h1 class="text-xl font-semibold">Edit Deal</h1>
                            
                        </div>


                        <div class="deal_creator_form deal_creator_form_validate flex flex-col gap-4 ">
                            {{ items.management_form }}
                            {% crispy items %} 
                            <div class="parent_Form">
                                
                            {% for item in items|slice:"0:-1" %}
                            <div class="bg-white mt-[1rem] form-group row items-group flex flex-col gap-3 border rounded-md p-3 relative deal_p">
                                <div class="absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 delete_deal">
                                    <svg width="1.25rem" height="1.25rem" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M13.5 0C5.97857 0 0 5.97857 0 13.5C0 21.0214 5.97857 27 13.5 27C21.0214 27 27 21.0214 27 13.5C27 5.97857 21.0214 0 13.5 0ZM18.7071 20.25L13.5 15.0429L8.29286 20.25L6.75 18.7071L11.9571 13.5L6.75 8.29286L8.29286 6.75L13.5 11.9571L18.7071 6.75L20.25 8.29286L15.0429 13.5L20.25 18.7071L18.7071 20.25Z" fill="red"></path>
                                    </svg>
                                </div>
                                {{ item.id | add_class:"id-field" }}
                                {% if item.title %}
                                <div class="col">
                                    <div>Title *</div>
                                    {{ item.title | add_class:"form-control title-field" }}
                                </div>
                                {% endif %}

                                <div class="col text-area-max-length">
                                    <div>Description *</div>
                                    {{ item.description | add_class:"form-control description-field" }}
                                </div>
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="col">
                                        <div>Quantity *</div>
                                        {{ item.quantity | add_class:"form-control quantity-field" }}
                                    </div>
                                    <div class="col">
                                        <div>Price *</div>
                                        {{ item.price | add_class:"form-control price-field" }}
                                    </div>
                                    <div class="col">
                                        <div>Discount % *</div>
                                        {{ item.discount_percentage | add_class:"form-control discount-field" }}
                                    </div>
                                </div>
                                {% if object %}
                                {% if items.can_delete %}
                                <div>
                                    {{ item.DELETE }}
                                </div>
                                {% endif %}
                                {% endif %}
                            </div>
                            {% endfor %}
                            <input value='' hidden name='huzaifadata' class='edit_deal_data' />
                        </div>
                            <div
                                class="w-fit mx-auto mt-[1rem] bg-[#205a42] font-semibold px-5 py-2 text-sm text-white rounded-md step-two-btn cursor-pointer"
                                id="first_form_continue_btn">
                                Save
                            </div>
                        </div>
                    </div>

                </div>
                <div class="step-two-form bg-white p-4 border rounded-md">
                    <div class="flex flex-col gap-3">
                        {% comment %}<div class="flex flex-col gap-2">
                             <p class="text-sm">Store *</p>
                            <select name="store" class="new_store_name border bg-transparent rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]" id="id_store">
                                <option value="{{ form.store }}">{{ form.store }}</option>
                              
                              </select> 
                        </div>{% endcomment %}
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Title *</p>
                            {{ form.title }}
                        </div>

                    {% comment %}
                        <div class="flex flex-col gap-2 flex-1">
                            <p class="text-sm">Phone Number *</p>
                            <div class="flex border rounded-md overflow-hidden ease-in transition-all phone_num_p">
                                <div class="px-4 py-3 flex items-center before-plus">
                                    <select class="bg-transparent text-sm pr-5 outline-none" id="">
                                        {% for countriy in all_countries %}
                                                {% if countriy.dial_code == '971' %}
                                                <option value="{{ countriy.dial_code }}" selected>+{{ countriy.dial_code }}</option>
                                                {% endif %}
                                                {% if countriy.dial_code is not None %}
                                                <option value="{{ countriy.dial_code }}">+{{ countriy.dial_code }}
                                                </option>
                                                {% endif %}
                                                {% endfor %}
                                    </select>
                                </div>
                                {{ form.phone }}
                            </div>
                        </div>
                        <div class="grid lg:grid-cols-2 gap-5">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Country *</p>
                                {{ form.country }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">City *</p>
                                <select name="city" id="cities_dropdown" class="new_city cities_dropdown border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px] bg-transparent">
                                
                                <option value="{{ city.id }}" selected>{{ city }}</option>

                                {% if selected_cities %}
                                {% for city in selected_cities %}
                                <option value="{{ city.pk }}">{{ city.name }}</option>
                                {% endfor %}
                                {% endif %}

                                {% if cities %}                                
                                {% for city in cities %}
                                <option value="{{ city.pk }}">{{ city.name }}</option>
                                {% endfor %}
                                {% else %}

                                {% comment %} <option value="47923">Abu Dhabi</option>
                                <option value="40954">Ajman</option>
                                <option value="40961">al-Fujayrah</option>
                                <option value="47924">Al Ayn</option>
                                <option value="40955">Al Qusais</option>
                                <option value="40956">Deira</option>
                                <option value="40957">Dubai</option>
                                <option value="40958">Jebel Ali</option>
                                <option value="40960">Khawr Fakkan</option>
                                <option value="47925">Ras Al Khaymah</option>
                                <option value="40959">Sharjah</option>
                                <option value="47926">Umm al Qaywayn</option>
                                {% endif %}
                            </select>
                            </div>
                        </div> {% endcomment %}


                        <div class="grid lg:grid-cols-2 gap-5">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Category *</p>
                                {{ form.category }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Sub-Category *</p>
                                <select  name="sub_category" class='new_subcategory categories_dropdown border bg-transparent rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]' required>

                                    <option value="{{ select_sub_category.id }}" selected>{{ select_sub_category }}</option>
                                    
                                    {% if sub_categories %}
                                    {% for sub_category in sub_categories %}
                                    <option value="{{ sub_category.id }}">{{ sub_category.name }}</option>
                                    {% endfor %}
                                    {% endif %}

                                    {% comment %} {% for category in parent_category_filter_by_status %}
                                    {% for subcategory in category.subcategory_category.all %}
                                    <option value="{{ subcategory.pk }}">{{ subcategory.name }}</option>
                                    {% endfor %}
                                    {% endfor %} {% endcomment %}


                                </select>
                            </div>
                        </div>
                        <div class="grid lg:grid-cols-2 gap-5">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Audience *</p>
                                {{ form.gender }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Status *</p>
                                {{ form.deal_status }}
                            </div>
                        </div>
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Description *</p>
                            {{ form.description }}
                        </div>
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Terms & Conditions *</p>
                            {{ form.condition }}
                        </div>
                        <div class="grid lg:grid-cols-2 gap-5">




                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Deals Starts at *</p>
                                {{ form.start_date }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Deals Ends at *</p>
                                {{ form.end_date }}
                            </div>


                        </div>
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Uplaod Image *</p>
                            <div class="file_p img_render">
                                <label for="Upload"
                                    class="cursor-pointer h-[10rem] border-2 rounded-md border-dashed flex items-center justify-center">
                                    <div class="flex flex-col gap-2 text-center">
                                        <svg class="mx-auto" width="41" height="40" viewBox="0 0 41 40" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M32.2438 36.1595H8.50321C7.3524 36.1595 6.24872 35.7024 5.43497 34.8886C4.62122 34.0749 4.16406 32.9712 4.16406 31.8204V8.07975C4.16406 6.92894 4.62122 5.82526 5.43497 5.01151C6.24872 4.19776 7.3524 3.7406 8.50321 3.7406H32.2438C33.3947 3.7406 34.4983 4.19776 35.3121 5.01151C36.1258 5.82526 36.583 6.92894 36.583 8.07975V31.8204C36.583 32.9712 36.1258 34.0749 35.3121 34.8886C34.4983 35.7024 33.3947 36.1595 32.2438 36.1595ZM8.50321 6.23436C8.01378 6.23436 7.5444 6.42879 7.19833 6.77486C6.85225 7.12094 6.65783 7.59032 6.65783 8.07975V31.8204C6.65783 32.3098 6.85225 32.7792 7.19833 33.1253C7.5444 33.4713 8.01378 33.6658 8.50321 33.6658H32.2438C32.7333 33.6658 33.2026 33.4713 33.5487 33.1253C33.8948 32.7792 34.0892 32.3098 34.0892 31.8204V8.07975C34.0892 7.59032 33.8948 7.12094 33.5487 6.77486C33.2026 6.42879 32.7333 6.23436 32.2438 6.23436H8.50321Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M5.40786 31.2716C5.22826 31.271 5.05084 31.2322 4.88744 31.1576C4.72403 31.0831 4.57839 30.9746 4.46023 30.8393C4.35388 30.714 4.27336 30.5689 4.2233 30.4123C4.17324 30.2558 4.15463 30.0909 4.16853 29.9271C4.18244 29.7633 4.22859 29.6039 4.30433 29.458C4.38007 29.3121 4.4839 29.1827 4.60986 29.0771L13.1219 21.895C13.7574 21.3586 14.5709 21.0799 15.4018 21.1137C16.2328 21.1476 17.0209 21.4916 17.6107 22.0779L21.6506 26.1178C21.8011 26.2466 21.9928 26.3174 22.1909 26.3174C22.389 26.3174 22.5806 26.2466 22.7312 26.1178L26.6547 23.2749C27.2361 22.8273 27.9493 22.5846 28.683 22.5846C29.4167 22.5846 30.1298 22.8273 30.7113 23.2749L36.1144 27.5808C36.2432 27.6834 36.3506 27.8104 36.4303 27.9545C36.51 28.0986 36.5606 28.257 36.5791 28.4206C36.5977 28.5843 36.5838 28.7499 36.5383 28.9082C36.4928 29.0665 36.4165 29.2143 36.3139 29.3431C36.2113 29.4719 36.0843 29.5792 35.9402 29.659C35.7961 29.7387 35.6377 29.7893 35.4741 29.8078C35.3105 29.8263 35.1448 29.8124 34.9865 29.7669C34.8282 29.7214 34.6805 29.6452 34.5517 29.5426L29.1651 25.22C29.0198 25.1081 28.8415 25.0475 28.6581 25.0475C28.4746 25.0475 28.2963 25.1081 28.151 25.22L24.2275 28.2624C23.5888 28.742 22.7989 28.9756 22.0022 28.9207C21.2054 28.8657 20.4551 28.5259 19.8883 27.9632L15.8484 23.8402C15.6957 23.7023 15.4972 23.626 15.2915 23.626C15.0857 23.626 14.8873 23.7023 14.7345 23.8402L6.20587 30.9889C5.98317 31.1772 5.69941 31.2777 5.40786 31.2716Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M25.361 19.5345C24.4567 19.5345 23.5728 19.2664 22.821 18.764C22.0691 18.2617 21.4831 17.5476 21.1371 16.7122C20.791 15.8768 20.7005 14.9576 20.8769 14.0707C21.0533 13.1839 21.4888 12.3692 22.1281 11.7298C22.7675 11.0904 23.5822 10.655 24.469 10.4786C25.3559 10.3022 26.2751 10.3927 27.1106 10.7388C27.946 11.0848 28.66 11.6708 29.1624 12.4226C29.6647 13.1745 29.9329 14.0584 29.9329 14.9626C29.9329 16.1752 29.4512 17.3381 28.5938 18.1955C27.7364 19.0529 26.5735 19.5345 25.361 19.5345ZM25.361 12.8845C24.9499 12.8845 24.5482 13.0064 24.2064 13.2347C23.8647 13.4631 23.5983 13.7877 23.441 14.1674C23.2837 14.5471 23.2426 14.965 23.3228 15.3681C23.4029 15.7712 23.6009 16.1415 23.8915 16.4321C24.1821 16.7227 24.5524 16.9207 24.9555 17.0009C25.3587 17.081 25.7765 17.0399 26.1562 16.8826C26.536 16.7253 26.8605 16.4589 27.0889 16.1172C27.3172 15.7755 27.4391 15.3737 27.4391 14.9626C27.4391 14.4115 27.2202 13.8829 26.8304 13.4932C26.4407 13.1035 25.9121 12.8845 25.361 12.8845Z"
                                                fill="#A1A1A1"></path>
                                        </svg>
                                        <p class="text-[#205a42] underline">Upload Image</p>
                                        <p class="text-sm text-[#A1A1A1]">Max size of image is 3 mb</p>
                                        <p class="text-sm text-[#656565]">Image dimensions should be:	790px x 500px</p>
                                    </div>
                                </label>
                                <input type="file" name="image" class="img_render_inp border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent" autocomplete="off" accept="image/*" hidden="" id="Upload" multiple>
                                
                                {% if media %}
                                {% for m in media %}
                                <div class="mt-3 mr-3 inline-block rounded-md h-[7rem] w-[7rem] img_rendered overflow-hidden relative">
                                    <div class="absolute top-2 right-2 img_del z-1 cursor-pointer"></div>
                                    
                                    <img src="{{ front_url }}/media/{{ m.image }}" class="h-full w-full object-cover">
                                </div>
                                {% endfor %}
                                {% endif %}
                            
                            </div>
                        </div>
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Uplaod Video</p>
                            <div class="file_p img_render">
                                <label for="Upload_Video"
                                    class="cursor-pointer h-[10rem] border-2 rounded-md border-dashed flex items-center justify-center">
                                    <div class="flex flex-col gap-2 text-center">
                                        <svg class="mx-auto" width="41" height="40" viewBox="0 0 41 40" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M32.2438 36.1595H8.50321C7.3524 36.1595 6.24872 35.7024 5.43497 34.8886C4.62122 34.0749 4.16406 32.9712 4.16406 31.8204V8.07975C4.16406 6.92894 4.62122 5.82526 5.43497 5.01151C6.24872 4.19776 7.3524 3.7406 8.50321 3.7406H32.2438C33.3947 3.7406 34.4983 4.19776 35.3121 5.01151C36.1258 5.82526 36.583 6.92894 36.583 8.07975V31.8204C36.583 32.9712 36.1258 34.0749 35.3121 34.8886C34.4983 35.7024 33.3947 36.1595 32.2438 36.1595ZM8.50321 6.23436C8.01378 6.23436 7.5444 6.42879 7.19833 6.77486C6.85225 7.12094 6.65783 7.59032 6.65783 8.07975V31.8204C6.65783 32.3098 6.85225 32.7792 7.19833 33.1253C7.5444 33.4713 8.01378 33.6658 8.50321 33.6658H32.2438C32.7333 33.6658 33.2026 33.4713 33.5487 33.1253C33.8948 32.7792 34.0892 32.3098 34.0892 31.8204V8.07975C34.0892 7.59032 33.8948 7.12094 33.5487 6.77486C33.2026 6.42879 32.7333 6.23436 32.2438 6.23436H8.50321Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M5.40786 31.2716C5.22826 31.271 5.05084 31.2322 4.88744 31.1576C4.72403 31.0831 4.57839 30.9746 4.46023 30.8393C4.35388 30.714 4.27336 30.5689 4.2233 30.4123C4.17324 30.2558 4.15463 30.0909 4.16853 29.9271C4.18244 29.7633 4.22859 29.6039 4.30433 29.458C4.38007 29.3121 4.4839 29.1827 4.60986 29.0771L13.1219 21.895C13.7574 21.3586 14.5709 21.0799 15.4018 21.1137C16.2328 21.1476 17.0209 21.4916 17.6107 22.0779L21.6506 26.1178C21.8011 26.2466 21.9928 26.3174 22.1909 26.3174C22.389 26.3174 22.5806 26.2466 22.7312 26.1178L26.6547 23.2749C27.2361 22.8273 27.9493 22.5846 28.683 22.5846C29.4167 22.5846 30.1298 22.8273 30.7113 23.2749L36.1144 27.5808C36.2432 27.6834 36.3506 27.8104 36.4303 27.9545C36.51 28.0986 36.5606 28.257 36.5791 28.4206C36.5977 28.5843 36.5838 28.7499 36.5383 28.9082C36.4928 29.0665 36.4165 29.2143 36.3139 29.3431C36.2113 29.4719 36.0843 29.5792 35.9402 29.659C35.7961 29.7387 35.6377 29.7893 35.4741 29.8078C35.3105 29.8263 35.1448 29.8124 34.9865 29.7669C34.8282 29.7214 34.6805 29.6452 34.5517 29.5426L29.1651 25.22C29.0198 25.1081 28.8415 25.0475 28.6581 25.0475C28.4746 25.0475 28.2963 25.1081 28.151 25.22L24.2275 28.2624C23.5888 28.742 22.7989 28.9756 22.0022 28.9207C21.2054 28.8657 20.4551 28.5259 19.8883 27.9632L15.8484 23.8402C15.6957 23.7023 15.4972 23.626 15.2915 23.626C15.0857 23.626 14.8873 23.7023 14.7345 23.8402L6.20587 30.9889C5.98317 31.1772 5.69941 31.2777 5.40786 31.2716Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M25.361 19.5345C24.4567 19.5345 23.5728 19.2664 22.821 18.764C22.0691 18.2617 21.4831 17.5476 21.1371 16.7122C20.791 15.8768 20.7005 14.9576 20.8769 14.0707C21.0533 13.1839 21.4888 12.3692 22.1281 11.7298C22.7675 11.0904 23.5822 10.655 24.469 10.4786C25.3559 10.3022 26.2751 10.3927 27.1106 10.7388C27.946 11.0848 28.66 11.6708 29.1624 12.4226C29.6647 13.1745 29.9329 14.0584 29.9329 14.9626C29.9329 16.1752 29.4512 17.3381 28.5938 18.1955C27.7364 19.0529 26.5735 19.5345 25.361 19.5345ZM25.361 12.8845C24.9499 12.8845 24.5482 13.0064 24.2064 13.2347C23.8647 13.4631 23.5983 13.7877 23.441 14.1674C23.2837 14.5471 23.2426 14.965 23.3228 15.3681C23.4029 15.7712 23.6009 16.1415 23.8915 16.4321C24.1821 16.7227 24.5524 16.9207 24.9555 17.0009C25.3587 17.081 25.7765 17.0399 26.1562 16.8826C26.536 16.7253 26.8605 16.4589 27.0889 16.1172C27.3172 15.7755 27.4391 15.3737 27.4391 14.9626C27.4391 14.4115 27.2202 13.8829 26.8304 13.4932C26.4407 13.1035 25.9121 12.8845 25.361 12.8845Z"
                                                fill="#A1A1A1"></path>
                                        </svg>
                                        <p class="text-[#205a42] underline">Upload Video</p>
                                        <p class="text-sm text-[#A1A1A1]">Max size of video is 25 mb</p>
                                    </div>
                                </label>
                                {{ mediaform.video }}

                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="col flex flex-col gap-1">
                                <p class="text-sm">Quantity *</p>
                                {{ item.quantity | add_class:"form-control" }}
                            </div>
                            <div class="col flex flex-col gap-1">
                                <div class="text-sm">Price *</div>
                                {{ item.price | add_class:"form-control" }}
                            </div> 
                            <div class="col flex flex-col gap-1">
                                <p class="text-sm">Discount % *</p>
                                {{ item.discount_percentage | add_class:"form-control discount_percentage discount-field" }}
                            </div>
                        </div>
                        <button type="button"
                            class="w-fit ml-auto mt-[1rem] bg-[#205a42] font-semibold px-5 py-2 text-sm text-white rounded-md step-one-btn" >Continue
                            </button>
                    </div>
                </div>
                <div class="rounded-2xl shadow bg-white px-4 py-4 step-three-form hidden">
                    <div class="flex flex-col gap-5 items-center text-center">
                        <svg width="226" height="226" viewBox="0 0 226 226" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M121.586 182.913L126.257 187.584L134.923 178.918" stroke="#1E1E1E"
                                stroke-width="1.53657" stroke-miterlimit="10" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M174.813 185.249H136.092C133.203 185.249 130.867 182.913 130.867 180.024V105.409H180.037V180.024C180.037 182.913 177.702 185.249 174.813 185.249Z"
                                fill="#767FBE" />
                            <path
                                d="M101.665 54.8248C108.549 51.7517 117.646 51.6902 124.837 54.7019C125.882 52.6122 126.865 50.461 128.033 48.4327C136.945 33.4358 159.563 29.1334 171.856 44.8064C173.761 47.2649 175.974 49.4776 177.879 51.8746C182.366 57.5292 179.969 64.5974 172.962 66.3798C168.721 67.4861 164.419 68.4695 160.239 70.0676C166.508 70.0676 172.716 70.0676 178.985 70.0676C186.299 70.0676 190.602 74.247 190.786 81.4996C190.848 85.7406 190.848 89.9815 190.786 94.2224C190.725 98.156 189.311 101.598 185.746 103.565C184.025 104.548 183.595 105.654 183.595 107.498C183.657 119.791 183.657 132.145 183.657 144.437C183.657 145.359 183.657 146.281 183.657 147.203C183.657 149.846 182.059 150.952 179.723 151.014C177.141 151.075 176.465 149.293 176.465 147.08C176.465 135.894 176.465 124.708 176.465 113.583C176.465 109.158 176.465 109.158 172.163 108.543C171.548 108.482 170.626 108.297 170.504 107.99C169.397 104.978 166.939 105.777 164.787 105.716C154.769 105.654 144.689 105.777 134.671 105.654C132.458 105.654 131.413 106.269 131.413 108.543C131.413 110.387 131.229 112.292 131.229 114.136C131.229 136.509 131.229 158.82 131.229 181.192C131.229 182.36 131.229 183.466 131.229 184.634C131.044 189.797 131.044 189.797 136.33 189.797C146.902 189.797 157.412 189.797 167.984 189.735C174.191 189.674 176.342 187.523 176.404 181.315C176.465 174.984 176.465 168.715 176.465 162.385C176.465 160.172 176.773 158.082 179.6 158.021C182.304 157.898 183.657 159.373 183.657 162.323C183.718 169.33 183.779 176.398 183.595 183.405C183.411 190.842 177.449 196.681 169.95 196.681C132.151 196.742 94.4127 196.742 56.6131 196.681C49.2376 196.681 43.2143 190.657 43.0913 183.22C42.9684 171.542 43.0299 159.865 43.0299 148.125C43.0299 145.667 44.0133 143.946 46.5333 144.007C48.9918 144.069 50.0366 145.79 49.9752 148.248C49.9137 159.127 49.9752 170.006 49.9752 180.823C49.9752 187.154 52.4951 189.735 58.7643 189.735C70.0735 189.735 81.3211 189.674 92.6303 189.797C95.2117 189.797 96.1951 189.121 95.8263 186.416C95.4576 183.896 95.5805 181.254 95.5805 178.672C95.5805 156.546 95.5805 134.358 95.5805 112.231C95.5805 105.654 95.519 105.654 89.004 105.654C77.5104 105.593 66.0784 105.47 54.5849 105.347C53.2327 105.347 51.8805 105.347 50.0366 105.347C50.0366 110.449 50.0366 115.366 50.0366 120.283C50.0366 124.585 48.9303 126.367 46.4718 126.367C44.0747 126.306 43.0913 124.646 43.0913 120.467C43.0913 117.701 43.0299 114.874 43.0913 112.108C43.2143 108.113 43.5216 104.425 39.0963 101.782C37.2524 100.676 36.3304 97.0497 36.0231 94.4683C35.5314 89.9815 35.7773 85.3718 35.9617 80.8235C36.1461 74.3085 40.5714 70.129 47.1479 70.129C53.54 70.0676 59.9936 70.129 66.5086 69.5759C62.2062 68.531 57.9653 67.4861 53.6629 66.4413C50.5283 65.7037 48.2542 63.9213 47.0864 60.8482C45.9186 57.7136 46.4718 54.7019 48.623 52.1205C51.3888 48.8015 54.1546 45.3596 57.1663 42.2864C69.7662 29.3178 92.6303 34.2348 100.313 51.5058C100.743 52.4892 101.174 53.5341 101.665 54.8248ZM123.669 189.613C123.669 186.908 123.669 184.511 123.669 182.114C123.669 158.82 123.607 135.525 123.73 112.292C123.73 109.465 122.931 108.42 120.043 108.543C115.802 108.728 111.561 108.605 107.32 108.605C103.017 108.605 102.956 108.666 102.956 112.907C102.956 136.263 102.956 159.68 102.956 183.036C102.956 185.187 102.956 187.277 102.956 189.613C109.901 189.613 116.724 189.613 123.669 189.613ZM70.1964 77.0129C62.6365 77.0129 55.0766 77.0129 47.5781 77.0743C44.2591 77.0743 43.0913 78.3036 43.0913 81.5611C43.0299 85.6791 43.0913 89.8586 43.0913 93.9766C43.0913 96.7424 44.3821 98.2175 47.2708 98.156C49.9752 98.0331 52.6181 97.8487 55.3224 97.8487C67.5535 97.7872 79.7231 97.7873 91.9542 97.9102C94.5356 97.9102 95.4576 97.0497 95.519 94.5912C95.5805 89.8586 95.6419 85.0645 95.9493 80.3318C96.1336 77.9348 95.5805 77.0129 92.9991 77.0129C85.3162 77.1358 77.7563 77.0129 70.1964 77.0129ZM156.429 77.0743C148.807 77.0129 141.124 77.0129 133.503 77.0129C132.089 77.0129 130.799 77.0129 130.86 79.0411C131.106 84.3884 131.29 89.7971 131.352 95.1444C131.413 97.1112 132.151 97.7873 134.179 97.7873C149.176 97.7258 164.173 97.7258 179.17 97.7873C181.997 97.7873 183.349 96.558 183.288 93.6692C183.226 89.7356 183.226 85.802 183.349 81.8684C183.472 78.0577 182.735 77.1358 178.801 77.0743C171.303 77.0743 163.866 77.0743 156.429 77.0743ZM95.0888 68.7154C95.8263 62.4462 95.1502 56.9146 92.1386 51.6288C86.2382 40.9957 70.1349 38.6601 61.8375 47.5108C59.3175 50.2151 56.9204 53.1039 54.5849 55.9312C53.0483 57.7136 53.1712 59.1272 55.7527 59.6804C58.7643 60.3565 61.8375 60.9096 64.7877 61.5857C74.8061 63.8598 84.8245 66.2569 95.0888 68.7154ZM130.86 68.8383C142.599 66.0725 153.478 63.4911 164.419 60.9096C159.625 51.8132 150.098 47.5108 140.325 49.2317C136.023 50.0307 133.257 52.1205 132.397 56.2385C131.598 60.1721 131.413 64.2286 130.86 68.8383ZM103.017 77.1972C103.017 82.6674 102.956 87.8303 103.14 92.9317C103.14 93.6078 104.493 94.7756 105.292 94.7756C110.639 94.96 116.048 94.96 121.395 94.7756C122.194 94.7756 123.607 93.6693 123.607 92.9932C123.792 87.7688 123.73 82.5445 123.73 77.1358C116.724 77.1972 109.963 77.1972 103.017 77.1972ZM102.956 69.8832C108.488 69.8832 113.835 69.8832 119.182 69.8832C123.853 69.8832 124.898 68.2852 122.993 63.9828C121.825 61.3399 119.735 60.0492 116.97 59.8033C115.433 59.6189 113.896 59.6189 112.36 59.5575C104.923 59.3116 102.218 62.2003 102.956 69.8832Z"
                                fill="black" />
                            <path opacity="0.3" d="M123.856 91.0878H102.836V115.857H123.856V91.0878Z"
                                fill="#FCD5AC" />
                            <path
                                d="M50.5815 135.218C49.7825 136.878 49.4137 138.906 48.2459 139.643C47.2625 140.258 45.0498 139.828 43.9435 139.09C42.3455 138.045 42.4684 131.961 44.0664 131.039C45.2342 130.362 47.3854 130.117 48.4303 130.731C49.5366 131.469 49.7825 133.436 50.5815 135.218Z"
                                fill="black" />
                            <path
                                d="M123.666 186.048C116.721 186.048 109.898 186.048 102.953 186.048C102.953 183.835 102.953 181.807 102.953 179.778C102.953 157.406 102.953 135.034 102.953 112.661C102.953 108.605 102.953 108.543 107.317 108.543C111.558 108.543 115.799 108.666 120.04 108.482C122.928 108.359 123.728 109.404 123.728 112.108C123.605 134.358 123.666 156.607 123.666 178.918C123.666 181.192 123.666 183.466 123.666 186.048Z"
                                fill="#F0CF24" />
                            <path
                                d="M70.1957 77.0128C77.7556 77.0128 85.3155 77.0743 92.814 76.9513C95.3954 76.8899 95.9486 77.8733 95.7642 80.2703C95.4569 85.003 95.3954 89.7356 95.3339 94.5297C95.3339 96.9882 94.3505 97.8487 91.7691 97.8487C79.5995 97.7257 67.3684 97.7872 55.1373 97.7872C52.433 97.7872 49.7901 98.0331 47.0857 98.0945C44.197 98.2174 42.9062 96.7423 42.9062 93.9151C42.9062 89.7971 42.9062 85.6176 42.9062 81.4996C42.9677 78.2421 44.1355 77.0128 47.393 77.0128C55.0759 77.0128 62.6358 77.0743 70.1957 77.0128Z"
                                fill="white" />
                            <path
                                d="M53.2904 98.0946C55.6259 98.0331 57.9615 97.8487 60.2971 97.8487C70.9916 97.8487 81.6247 97.7873 92.3192 97.9102C94.5933 97.9102 95.3923 97.1726 95.3923 95.0829C95.4538 91.0264 95.5152 86.9084 95.7611 82.8518C95.884 80.8236 95.3923 79.9631 93.1797 80.0245C86.6031 80.1475 79.9652 80.086 73.3887 80.086C66.8122 80.086 60.1742 80.086 53.5977 80.086C50.7089 80.086 49.6641 81.1309 49.6641 83.8967V98.0946H53.2904Z"
                                fill="#767FBE" />
                            <path
                                d="M156.429 77.0743C163.866 77.0743 171.303 77.0129 178.74 77.0743C182.674 77.0743 183.411 78.0577 183.288 81.8684C183.165 85.802 183.165 89.7356 183.227 93.6693C183.288 96.558 181.936 97.7873 179.109 97.7873C164.112 97.7873 149.115 97.7258 134.118 97.7873C132.09 97.7873 131.352 97.1112 131.291 95.1444C131.168 89.7971 130.983 84.3884 130.799 79.0411C130.738 77.0129 132.028 77.0129 133.442 77.0129C141.125 77.0129 148.746 77.0129 156.429 77.0743Z"
                                fill="white" />
                            <path
                                d="M183.279 84.1426C183.156 87.523 183.156 90.842 183.217 94.2225C183.279 96.681 181.927 97.7873 179.099 97.7873C164.225 97.7873 149.351 97.7258 134.416 97.7873C132.449 97.7873 131.65 97.1727 131.65 95.5132C131.527 90.9035 131.343 86.2938 131.158 81.7455C131.097 79.9631 132.388 80.0246 133.801 80.0246C141.423 80.0246 148.983 80.0246 156.604 80.0246V80.0861H183.279V84.1426Z"
                                fill="#767FBE" />
                            <path
                                d="M95.0963 68.7155C84.8321 66.257 74.8137 63.9214 64.7952 61.5858C61.7836 60.9097 58.7719 60.3565 55.7602 59.6804C53.1788 59.1273 53.0559 57.7136 54.5924 55.9312C56.9895 53.1039 59.325 50.2152 61.845 47.5108C70.1425 38.6602 86.2457 40.9958 92.1461 51.6288C95.0963 56.9146 95.8339 62.3848 95.0963 68.7155Z"
                                fill="white" />
                            <path
                                d="M162.019 61.0325C165.092 60.2335 168.227 59.6188 171.361 58.8813C174.004 58.2667 174.066 56.7916 172.468 55.0091C169.948 52.1204 167.428 49.1702 164.785 46.4658C156.057 37.4923 139.462 40.2581 133.562 51.3214C130.612 56.9145 129.997 62.569 130.919 69.0841C141.429 66.3797 151.693 63.6754 162.019 61.0325Z"
                                fill="#F29220" />
                            <path
                                d="M95.0857 68.7153C86.9112 66.9329 78.9825 65.1505 71.0538 63.3681C68.6568 62.8764 66.2597 62.4462 63.8627 61.9545C61.8344 61.5242 61.7115 60.4793 62.9407 59.1886C64.8461 57.0989 66.69 54.9477 68.7182 52.9194C75.2948 46.3429 88.8165 46.6502 93.5492 54.5175C95.8848 58.4511 95.7004 63.9827 95.0857 68.7153Z"
                                fill="#F0CF24" />
                            <path
                                d="M130.867 68.8384C131.42 64.2287 131.605 60.1721 132.404 56.2385C133.264 52.1205 136.03 50.0308 140.332 49.2318C150.105 47.5108 159.57 51.8132 164.426 60.9097C153.485 63.4911 142.668 66.0725 130.867 68.8384Z"
                                fill="#F0CF24" />
                            <path
                                d="M103.023 80.0245C110.03 80.0245 116.791 80.0245 123.613 80.0245C123.613 84.5727 123.675 88.9366 123.49 93.3619C123.49 93.9151 122.077 94.837 121.278 94.837C115.931 94.9599 110.522 94.9599 105.175 94.837C104.437 94.837 103.085 93.8536 103.023 93.3004C102.9 88.9366 103.023 84.6342 103.023 80.0245Z"
                                fill="#F0CF24" />
                            <path
                                d="M102.953 69.8832C102.215 62.2004 104.92 59.3116 112.295 59.5575C113.832 59.6189 115.368 59.6189 116.905 59.8033C119.671 60.0492 121.761 61.3399 122.928 63.9828C124.834 68.2852 123.789 69.8832 119.118 69.8832C113.832 69.8832 108.546 69.8832 102.953 69.8832Z"
                                fill="white" />
                            <path
                                d="M90.2977 185.249H61.779C58.8903 185.249 56.5547 182.913 56.5547 180.024V105.409H95.522V180.024C95.522 182.913 93.1865 185.249 90.2977 185.249Z"
                                fill="#767FBE" />
                            <path
                                d="M202.515 105.962L203.929 108.482C204.051 108.728 204.297 108.912 204.543 109.096L207.063 110.51C208.108 111.063 208.108 112.538 207.063 113.091L204.543 114.505C204.297 114.628 204.113 114.874 203.929 115.12L202.515 117.64C201.962 118.684 200.487 118.684 199.933 117.64L198.52 115.12C198.397 114.874 198.151 114.689 197.905 114.505L195.385 113.091C194.34 112.538 194.34 111.063 195.385 110.51L197.905 109.096C198.151 108.973 198.335 108.728 198.52 108.482L199.933 105.962C200.487 104.917 201.962 104.917 202.515 105.962Z"
                                fill="#F58120" />
                            <path
                                d="M197.175 165.273L198.281 167.302C198.404 167.486 198.527 167.67 198.773 167.793L200.801 168.9C201.6 169.33 201.6 170.559 200.801 170.989L198.773 172.096C198.588 172.219 198.404 172.341 198.281 172.587L197.175 174.616C196.744 175.415 195.515 175.415 195.085 174.616L193.979 172.587C193.856 172.403 193.733 172.219 193.487 172.096L191.459 170.989C190.66 170.559 190.66 169.33 191.459 168.9L193.487 167.793C193.671 167.67 193.856 167.547 193.979 167.302L195.085 165.273C195.515 164.413 196.744 164.413 197.175 165.273Z"
                                fill="#8588C2" />
                            <path
                                d="M28.4012 48.8628L29.5076 50.8911C29.6305 51.0754 29.7534 51.2598 29.9993 51.3828L32.0275 52.4891C32.8265 52.9193 32.8265 54.1486 32.0275 54.5788L29.9993 55.6851C29.8149 55.8081 29.6305 55.931 29.5076 56.1768L28.4012 58.2051C27.971 59.0041 26.7417 59.0041 26.3115 58.2051L25.2052 56.1768C25.0822 55.9925 24.9593 55.8081 24.7135 55.6851L22.6852 54.5788C21.8862 54.1486 21.8862 52.9193 22.6852 52.4891L24.7135 51.3828C24.8979 51.2598 25.0822 51.1369 25.2052 50.8911L26.3115 48.8628C26.7417 48.0638 27.971 48.0638 28.4012 48.8628Z"
                                fill="#8588C2" />
                            <path
                                d="M150.227 0.737552L151.579 3.25752C151.702 3.50337 151.948 3.68776 152.194 3.87215L154.714 5.22433C155.758 5.77749 155.758 7.2526 154.714 7.80576L152.194 9.15794C151.948 9.28087 151.763 9.52672 151.579 9.77257L150.227 12.2925C149.674 13.3374 148.199 13.3374 147.645 12.2925L146.293 9.77257C146.17 9.52672 145.924 9.34233 145.679 9.15794L143.159 7.80576C142.114 7.2526 142.114 5.77749 143.159 5.22433L145.679 3.87215C145.924 3.74922 146.109 3.50337 146.293 3.25752L147.645 0.737552C148.199 -0.245851 149.674 -0.245851 150.227 0.737552Z"
                                fill="#F6D224" />
                            <path
                                d="M28.4012 155.316L29.5076 157.345C29.6305 157.529 29.7534 157.713 29.9993 157.836L32.0275 158.943C32.8265 159.373 32.8265 160.602 32.0275 161.032L29.9993 162.139C29.8149 162.262 29.6305 162.385 29.5076 162.63L28.4012 164.659C27.971 165.458 26.7417 165.458 26.3115 164.659L25.2052 162.63C25.0822 162.446 24.9593 162.262 24.7135 162.139L22.6852 161.032C21.8862 160.602 21.8862 159.373 22.6852 158.943L24.7135 157.836C24.8979 157.713 25.0822 157.59 25.2052 157.345L26.3115 155.316C26.7417 154.517 27.971 154.517 28.4012 155.316Z"
                                fill="#F6D224" />
                            <path
                                d="M111.554 29.625C115.662 29.625 118.991 26.2954 118.991 22.188C118.991 18.0807 115.662 14.751 111.554 14.751C107.447 14.751 104.117 18.0807 104.117 22.188C104.117 26.2954 107.447 29.625 111.554 29.625Z"
                                stroke="#8588C2" stroke-width="1.84388" stroke-miterlimit="10" />
                            <path
                                d="M213.515 149.047C217.622 149.047 220.952 145.717 220.952 141.61C220.952 137.503 217.622 134.173 213.515 134.173C209.408 134.173 206.078 137.503 206.078 141.61C206.078 145.717 209.408 149.047 213.515 149.047Z"
                                stroke="#F6D224" stroke-width="1.84388" stroke-miterlimit="10" />
                            <path
                                d="M23.1163 94.8984C24.1686 94.8984 25.0216 94.0453 25.0216 92.993C25.0216 91.9407 24.1686 91.0877 23.1163 91.0877C22.064 91.0877 21.2109 91.9407 21.2109 92.993C21.2109 94.0453 22.064 94.8984 23.1163 94.8984Z"
                                fill="#F6D224" />
                            <path
                                d="M3.74922 118.746C5.81986 118.746 7.49845 117.067 7.49845 114.997C7.49845 112.926 5.81986 111.247 3.74922 111.247C1.67858 111.247 0 112.926 0 114.997C0 117.067 1.67858 118.746 3.74922 118.746Z"
                                fill="#F29220" />
                            <path
                                d="M73.1387 12.2926C74.7342 12.2926 76.0275 10.9993 76.0275 9.40384C76.0275 7.80843 74.7342 6.5151 73.1387 6.5151C71.5433 6.5151 70.25 7.80843 70.25 9.40384C70.25 10.9993 71.5433 12.2926 73.1387 12.2926Z"
                                fill="#F29220" />
                            <path
                                d="M185.369 41.1186C186.32 41.1186 187.09 40.3481 187.09 39.3976C187.09 38.4471 186.32 37.6767 185.369 37.6767C184.419 37.6767 183.648 38.4471 183.648 39.3976C183.648 40.3481 184.419 41.1186 185.369 41.1186Z"
                                fill="#F29220" />
                            <path
                                d="M224.276 83.4049C225.226 83.4049 225.997 82.6344 225.997 81.684C225.997 80.7335 225.226 79.963 224.276 79.963C223.325 79.963 222.555 80.7335 222.555 81.684C222.555 82.6344 223.325 83.4049 224.276 83.4049Z"
                                fill="#F29220" />
                            <path
                                d="M200.375 36.0787C201.665 36.0787 202.71 35.033 202.71 33.7431C202.71 32.4532 201.665 31.4075 200.375 31.4075C199.085 31.4075 198.039 32.4532 198.039 33.7431C198.039 35.033 199.085 36.0787 200.375 36.0787Z"
                                fill="#F6D224" />
                            <path
                                d="M143.82 211.37C145.11 211.37 146.156 210.325 146.156 209.035C146.156 207.745 145.11 206.699 143.82 206.699C142.53 206.699 141.484 207.745 141.484 209.035C141.484 210.325 142.53 211.37 143.82 211.37Z"
                                fill="#F58120" />
                            <path
                                d="M82.7277 209.957C83.7121 209.957 84.5102 209.159 84.5102 208.174C84.5102 207.19 83.7121 206.392 82.7277 206.392C81.7433 206.392 80.9453 207.19 80.9453 208.174C80.9453 209.159 81.7433 209.957 82.7277 209.957Z"
                                fill="#8588C2" />
                            <path
                                d="M115.601 225.384C116.891 225.384 117.937 224.338 117.937 223.048C117.937 221.758 116.891 220.713 115.601 220.713C114.311 220.713 113.266 221.758 113.266 223.048C113.266 224.338 114.311 225.384 115.601 225.384Z"
                                fill="#F6D224" />
                        </svg>
                        <h2 class="font-bold text-lg">Deal Created Successfully</h2>
                        <p class="text-[#555555] text-sm">Deal has been created Successfully  </p>
                         <div
                            class="w-full mt-[1rem] bg-[#205a42] font-semibold px-5 py-2 text-sm text-white rounded-md ">
                            Go to Homepage
                        </div> 
                    </div>
                </div>
            </form> -->

                <div class="rounded-2xl shadow bg-white px-4 py-4 ">
                    <div class="flex flex-col gap-3">
                        <div class="flex items-center gap-5 justify-between pb-[1rem]">
                            <div>
                                <h2 class="text-[#205a42] text-lg font-bold">Deal Details</h2>
                                <p class="text-[#555555] text-sm">
                                    Provide the details about your deal.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col gap-5 w-full">
                        <div class="grid lg:grid-cols-2 gap-5">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Deal Title *</p>
                                {{ form.title }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Store *</p>
                                <select name="store"
                                    class="new_store_name border bg-transparent rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]"
                                    id="id_store">
                                    <option value="" selected>Select store</option>

                                    {% for store in stores %}
                                    <option value="{{ store.id }}">{{ store.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Select Store Locations *</p>
                                <select name="location"
                                    class='new_subcategory location_dropdown border bg-transparent rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]'
                                    required multiple>

                                    {% for lo in locations %}
                                    <option value="{{ lo.pk }}" >{{ lo.adress }}</option>
                                    {% endfor %}

                                </select>
                            </div>

                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Quantity *</p>

                                <input type="number" name="quantity" class="new_title border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent" placeholder="Enter quantity" autocomplete="off" maxlength="255" id="id_title">
                            </div>

                            <!-- <div class="flex flex-col gap-2">
                                <p class="text-sm">Sub-Category *</p>
                                <select name="sub_category"
                                    class='new_subcategory categories_dropdown border bg-transparent rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]'
                                    required>

                                    <option value="{{bd_deal.sub_category}}" selected>{{bd_deal.sub_category}}</option>

                                    {% for category in parent_category_filter_by_status %}
                                    {% for subcategory in category.subcategory_category.all %}
                                    <option value="{{ subcategory.pk }}">{{ subcategory.name }}</option>
                                    {% endfor %}
                                    {% endfor %}
                                </select>
                            </div> -->

                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Audience *</p>
                                {{ form.gender }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Status *</p>
                                {{ form.deal_status }}
                            </div>
                            <div class='flex flex-col gap-2 justify-center'>
                                <div></div>
                                <div class="flex items-center gap-3">
                                    <div class="flex items-center gap-2">
                                        <input id='Featured' type="checkbox"
                                        class="new_str_date border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]"
                                        autocomplete="off" id="" name='is_featured'>
                                        <label for='#Featured' class="text-sm">Featured</label>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <input id='Continue' type="checkbox"
                                        class="new_str_date border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]"
                                        autocomplete="off" id="" name='is_continue'>

                                        <label for='#Continue' class="text-sm">Continue</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid lg:grid-cols-3 gap-5">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Deal Date *</p>
                                <input type="date" name="start_date" 
                                    class="new_str_date border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]"
                                    autocomplete="off" id="">
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Start Time *</p>
                                {{ form.start_time }}
                            </div>
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">End Time *</p>
                                {{ form.end_time }}
                            </div>
                        </div>

                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Description *</p>
                            {{ form.description }}
                        </div>
                        <div class="flex flex-col gap-2 ">
                            <p class="text-sm">Terms & Conditions *</p>
                            {{ form.condition }}
                        </div>
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Uplaod Image *</p>
                            <div class="file_p img_render">
                                <label for="Upload"
                                    class="cursor-pointer h-[10rem] border-2 rounded-md border-dashed flex items-center justify-center">
                                    <div class="flex flex-col gap-2 text-center">
                                        <svg class="mx-auto" width="41" height="40" viewBox="0 0 41 40" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M32.2438 36.1595H8.50321C7.3524 36.1595 6.24872 35.7024 5.43497 34.8886C4.62122 34.0749 4.16406 32.9712 4.16406 31.8204V8.07975C4.16406 6.92894 4.62122 5.82526 5.43497 5.01151C6.24872 4.19776 7.3524 3.7406 8.50321 3.7406H32.2438C33.3947 3.7406 34.4983 4.19776 35.3121 5.01151C36.1258 5.82526 36.583 6.92894 36.583 8.07975V31.8204C36.583 32.9712 36.1258 34.0749 35.3121 34.8886C34.4983 35.7024 33.3947 36.1595 32.2438 36.1595ZM8.50321 6.23436C8.01378 6.23436 7.5444 6.42879 7.19833 6.77486C6.85225 7.12094 6.65783 7.59032 6.65783 8.07975V31.8204C6.65783 32.3098 6.85225 32.7792 7.19833 33.1253C7.5444 33.4713 8.01378 33.6658 8.50321 33.6658H32.2438C32.7333 33.6658 33.2026 33.4713 33.5487 33.1253C33.8948 32.7792 34.0892 32.3098 34.0892 31.8204V8.07975C34.0892 7.59032 33.8948 7.12094 33.5487 6.77486C33.2026 6.42879 32.7333 6.23436 32.2438 6.23436H8.50321Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M5.40786 31.2716C5.22826 31.271 5.05084 31.2322 4.88744 31.1576C4.72403 31.0831 4.57839 30.9746 4.46023 30.8393C4.35388 30.714 4.27336 30.5689 4.2233 30.4123C4.17324 30.2558 4.15463 30.0909 4.16853 29.9271C4.18244 29.7633 4.22859 29.6039 4.30433 29.458C4.38007 29.3121 4.4839 29.1827 4.60986 29.0771L13.1219 21.895C13.7574 21.3586 14.5709 21.0799 15.4018 21.1137C16.2328 21.1476 17.0209 21.4916 17.6107 22.0779L21.6506 26.1178C21.8011 26.2466 21.9928 26.3174 22.1909 26.3174C22.389 26.3174 22.5806 26.2466 22.7312 26.1178L26.6547 23.2749C27.2361 22.8273 27.9493 22.5846 28.683 22.5846C29.4167 22.5846 30.1298 22.8273 30.7113 23.2749L36.1144 27.5808C36.2432 27.6834 36.3506 27.8104 36.4303 27.9545C36.51 28.0986 36.5606 28.257 36.5791 28.4206C36.5977 28.5843 36.5838 28.7499 36.5383 28.9082C36.4928 29.0665 36.4165 29.2143 36.3139 29.3431C36.2113 29.4719 36.0843 29.5792 35.9402 29.659C35.7961 29.7387 35.6377 29.7893 35.4741 29.8078C35.3105 29.8263 35.1448 29.8124 34.9865 29.7669C34.8282 29.7214 34.6805 29.6452 34.5517 29.5426L29.1651 25.22C29.0198 25.1081 28.8415 25.0475 28.6581 25.0475C28.4746 25.0475 28.2963 25.1081 28.151 25.22L24.2275 28.2624C23.5888 28.742 22.7989 28.9756 22.0022 28.9207C21.2054 28.8657 20.4551 28.5259 19.8883 27.9632L15.8484 23.8402C15.6957 23.7023 15.4972 23.626 15.2915 23.626C15.0857 23.626 14.8873 23.7023 14.7345 23.8402L6.20587 30.9889C5.98317 31.1772 5.69941 31.2777 5.40786 31.2716Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M25.361 19.5345C24.4567 19.5345 23.5728 19.2664 22.821 18.764C22.0691 18.2617 21.4831 17.5476 21.1371 16.7122C20.791 15.8768 20.7005 14.9576 20.8769 14.0707C21.0533 13.1839 21.4888 12.3692 22.1281 11.7298C22.7675 11.0904 23.5822 10.655 24.469 10.4786C25.3559 10.3022 26.2751 10.3927 27.1106 10.7388C27.946 11.0848 28.66 11.6708 29.1624 12.4226C29.6647 13.1745 29.9329 14.0584 29.9329 14.9626C29.9329 16.1752 29.4512 17.3381 28.5938 18.1955C27.7364 19.0529 26.5735 19.5345 25.361 19.5345ZM25.361 12.8845C24.9499 12.8845 24.5482 13.0064 24.2064 13.2347C23.8647 13.4631 23.5983 13.7877 23.441 14.1674C23.2837 14.5471 23.2426 14.965 23.3228 15.3681C23.4029 15.7712 23.6009 16.1415 23.8915 16.4321C24.1821 16.7227 24.5524 16.9207 24.9555 17.0009C25.3587 17.081 25.7765 17.0399 26.1562 16.8826C26.536 16.7253 26.8605 16.4589 27.0889 16.1172C27.3172 15.7755 27.4391 15.3737 27.4391 14.9626C27.4391 14.4115 27.2202 13.8829 26.8304 13.4932C26.4407 13.1035 25.9121 12.8845 25.361 12.8845Z"
                                                fill="#A1A1A1"></path>
                                        </svg>
                                        <p class="text-[#205a42] underline">Upload Image</p>
                                        <p class="text-sm text-[#A1A1A1]">Max size of image is 3 mb</p>
                                        <p class="text-sm text-[#656565]">Image dimensions should be:	790px x 500px</p>
                                    </div>
                                </label>
        
                                <input type="file" name="image"
                                    class="img_render_inp border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent"
                                    autocomplete="off" accept="image/*" hidden="" id="Upload" required="" multiple>
                                
                                {% if media %}
                                {% for m in media %}
                                <div class="mt-3 mr-3 inline-block rounded-md h-[7rem] w-[7rem] img_rendered overflow-hidden relative">
                                    <div class="absolute top-2 right-2 img_del z-1 cursor-pointer"></div>
                                    
                                    <img src="{{ front_url }}/media/{{ m.image }}" class="h-full w-full object-cover">
                                </div>
                                {% endfor %}
                                {% endif %}
                            
                            </div>
                        </div>
                        <div class="flex flex-col gap-2">
                            <p class="text-sm">Uplaod Video</p>
                            <div class="file_p img_render">
                                <label for="Upload_Video"
                                    class="cursor-pointer h-[10rem] border-2 rounded-md border-dashed flex items-center justify-center">
                                    <div class="flex flex-col gap-2 text-center">
                                        <svg class="mx-auto" width="41" height="40" viewBox="0 0 41 40" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M32.2438 36.1595H8.50321C7.3524 36.1595 6.24872 35.7024 5.43497 34.8886C4.62122 34.0749 4.16406 32.9712 4.16406 31.8204V8.07975C4.16406 6.92894 4.62122 5.82526 5.43497 5.01151C6.24872 4.19776 7.3524 3.7406 8.50321 3.7406H32.2438C33.3947 3.7406 34.4983 4.19776 35.3121 5.01151C36.1258 5.82526 36.583 6.92894 36.583 8.07975V31.8204C36.583 32.9712 36.1258 34.0749 35.3121 34.8886C34.4983 35.7024 33.3947 36.1595 32.2438 36.1595ZM8.50321 6.23436C8.01378 6.23436 7.5444 6.42879 7.19833 6.77486C6.85225 7.12094 6.65783 7.59032 6.65783 8.07975V31.8204C6.65783 32.3098 6.85225 32.7792 7.19833 33.1253C7.5444 33.4713 8.01378 33.6658 8.50321 33.6658H32.2438C32.7333 33.6658 33.2026 33.4713 33.5487 33.1253C33.8948 32.7792 34.0892 32.3098 34.0892 31.8204V8.07975C34.0892 7.59032 33.8948 7.12094 33.5487 6.77486C33.2026 6.42879 32.7333 6.23436 32.2438 6.23436H8.50321Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M5.40786 31.2716C5.22826 31.271 5.05084 31.2322 4.88744 31.1576C4.72403 31.0831 4.57839 30.9746 4.46023 30.8393C4.35388 30.714 4.27336 30.5689 4.2233 30.4123C4.17324 30.2558 4.15463 30.0909 4.16853 29.9271C4.18244 29.7633 4.22859 29.6039 4.30433 29.458C4.38007 29.3121 4.4839 29.1827 4.60986 29.0771L13.1219 21.895C13.7574 21.3586 14.5709 21.0799 15.4018 21.1137C16.2328 21.1476 17.0209 21.4916 17.6107 22.0779L21.6506 26.1178C21.8011 26.2466 21.9928 26.3174 22.1909 26.3174C22.389 26.3174 22.5806 26.2466 22.7312 26.1178L26.6547 23.2749C27.2361 22.8273 27.9493 22.5846 28.683 22.5846C29.4167 22.5846 30.1298 22.8273 30.7113 23.2749L36.1144 27.5808C36.2432 27.6834 36.3506 27.8104 36.4303 27.9545C36.51 28.0986 36.5606 28.257 36.5791 28.4206C36.5977 28.5843 36.5838 28.7499 36.5383 28.9082C36.4928 29.0665 36.4165 29.2143 36.3139 29.3431C36.2113 29.4719 36.0843 29.5792 35.9402 29.659C35.7961 29.7387 35.6377 29.7893 35.4741 29.8078C35.3105 29.8263 35.1448 29.8124 34.9865 29.7669C34.8282 29.7214 34.6805 29.6452 34.5517 29.5426L29.1651 25.22C29.0198 25.1081 28.8415 25.0475 28.6581 25.0475C28.4746 25.0475 28.2963 25.1081 28.151 25.22L24.2275 28.2624C23.5888 28.742 22.7989 28.9756 22.0022 28.9207C21.2054 28.8657 20.4551 28.5259 19.8883 27.9632L15.8484 23.8402C15.6957 23.7023 15.4972 23.626 15.2915 23.626C15.0857 23.626 14.8873 23.7023 14.7345 23.8402L6.20587 30.9889C5.98317 31.1772 5.69941 31.2777 5.40786 31.2716Z"
                                                fill="#A1A1A1"></path>
                                            <path
                                                d="M25.361 19.5345C24.4567 19.5345 23.5728 19.2664 22.821 18.764C22.0691 18.2617 21.4831 17.5476 21.1371 16.7122C20.791 15.8768 20.7005 14.9576 20.8769 14.0707C21.0533 13.1839 21.4888 12.3692 22.1281 11.7298C22.7675 11.0904 23.5822 10.655 24.469 10.4786C25.3559 10.3022 26.2751 10.3927 27.1106 10.7388C27.946 11.0848 28.66 11.6708 29.1624 12.4226C29.6647 13.1745 29.9329 14.0584 29.9329 14.9626C29.9329 16.1752 29.4512 17.3381 28.5938 18.1955C27.7364 19.0529 26.5735 19.5345 25.361 19.5345ZM25.361 12.8845C24.9499 12.8845 24.5482 13.0064 24.2064 13.2347C23.8647 13.4631 23.5983 13.7877 23.441 14.1674C23.2837 14.5471 23.2426 14.965 23.3228 15.3681C23.4029 15.7712 23.6009 16.1415 23.8915 16.4321C24.1821 16.7227 24.5524 16.9207 24.9555 17.0009C25.3587 17.081 25.7765 17.0399 26.1562 16.8826C26.536 16.7253 26.8605 16.4589 27.0889 16.1172C27.3172 15.7755 27.4391 15.3737 27.4391 14.9626C27.4391 14.4115 27.2202 13.8829 26.8304 13.4932C26.4407 13.1035 25.9121 12.8845 25.361 12.8845Z"
                                                fill="#A1A1A1"></path>
                                        </svg>
                                        <p class="text-[#205a42] underline">Upload Video</p>
                                        <p class="text-sm text-[#A1A1A1]">Max size of video is 25 mb</p>
                                    </div>
                                </label>
                                {{ mediaform.video }}
        
                            </div>
                        </div>
                    </div>
                </div>


                <div class="rounded-2xl shadow bg-white px-4 py-4 ">
                    <div class="flex flex-col gap-3">
                        <div class="flex items-center gap-5 justify-between pb-[1rem]">
                            <div>
                                <h2 class="text-[#205a42] text-lg font-bold">Option Details</h2>
                                <p class="text-[#555555] text-sm">
                                    Provide the option details.
                                </p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Title *</p>
                                <input type="text" name="title2" 
                                    class="new_title border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent"
                                    placeholder="Enter Deal title" autocomplete="off" maxlength="255" id="id_title">
                            </div>
                            {% comment %} <div class="flex flex-col gap-2">
                                <p class="text-sm">Reservation Fee *</p>
                                <input type="number" name="reservation_fee" 
                                    class="new_title border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent"
                                    placeholder="Enter Reservation Fee" autocomplete="off" id="id_title">
                            </div> 
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Total Seats*</p>
                                <input type="number" name="quantity" value="usdyaysdg"
                                    class="new_title border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent"
                                    placeholder="Total Seats" autocomplete="off" id="id_title">
                            </div>{% endcomment %}
                            
                            <div class="flex flex-col gap-2">
                                <p class="text-sm">Discount *</p>
                                <input type="number" name="discount_percentage" 
                                    class="discount-field new_title border rounded-md text-sm outline-none lg:px-4 px-2 lg:py-3 py-[0.6rem] placeholder:text-[#A1A1A1] text-[#101928] focus:border-[#205a42] ease-in transition-all focus:border-l-[7px]  bg-transparent"
                                    placeholder="Enter Discount" autocomplete="off" id="id_title">
                            </div>
                        </div>  

                    </div>
                </div>

                <button class="bg-[#205a42] rounded-md px-12 py-2 mx-auto text-base text-white font-bold w-fit"
                    type="submit">
                    Submit
                </button>
                
            </div>
        </form>
    </div>
</div>
</div>
<script>
    let edit_deal_page = true;
</script>
<script>
    let dashboard_tabs = document.querySelectorAll('.dashboard-tab');
    document.addEventListener('DOMContentLoaded', () => {
        if (dashboard_tabs) {
            dashboard_tabs.forEach(tab => {
                dashboard_tabs.forEach(all => {
                    all.classList.remove('dashboard-tab-active')
                })
                dashboard_tabs[2].classList.add('dashboard-tab-active')
            })
        }
    })
</script>
{% include 'common/footer-com.html' %}
<script src="https://cdn.tiny.cloud/1/qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc/tinymce/6/tinymce.min.js">
</script>
<script>
    tinymce.init({
        selector: 'textarea#condition'
    });
</script>



<script>
    $("#id_country").change(function () {
        var url = $("#personForm").attr("data-cities-url"); // get the url of the `load_cities` view
        var countryId = $(this).val(); // get the selected country ID from the HTML input

        $.ajax({ // initialize an AJAX request
            url: url, // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
            data: {
                'country': countryId // add the country id to the GET parameters
            },
            success: function (data) { // `data` is the return of the `load_cities` view function
                let cities = data.cities
                let c_dd = document.getElementById('cities_dropdown')
                c_dd.innerHTML = ''
                cities.map(city => {
                    let drp_opt = document.createElement('option')
                    drp_opt.innerText = city.name
                    drp_opt.value = city.id
                    c_dd.append(drp_opt)
                    // <option value="{{ city.pk }}">{{ city.name }}</option>
                    console.log(city)
                })
                // html(data);  // replace the contents of the city input with the data that came from the server
            }
        });

    });
</script>

<script>
    $(".id_country").change(function () {
        var url = $(".personForm").attr("data-cities-url"); // get the url of the `load_cities` view
        var countryId = $(this).val(); // get the selected country ID from the HTML input

        $.ajax({ // initialize an AJAX request
            url: url, // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
            data: {
                'country': countryId // add the country id to the GET parameters
            },
            success: function (data) { // `data` is the return of the `load_cities` view function
                let cities = data.cities
                let c_dds = document.querySelectorAll('.cities_dropdown')
                c_dds.forEach(c_dd => {
                    c_dd.innerHTML = ''
                    cities.map(city => {
                        let drp_opt = document.createElement('option')
                        drp_opt.innerText = city.name
                        drp_opt.value = city.id
                        c_dd.append(drp_opt)
                        // <option value="{{ city.pk }}">{{ city.name }}</option>
                        //   console.log(city)
                    })
                })
                // html(data);  // replace the contents of the city input with the data that came from the server
            }
        });
    });



    $(".id_category").change(function () {
        var url = $(".personForm").attr("data-categories-url"); // get the url of the `load_cities` view
        var categoryID = $(this).val(); // get the selected country ID from the HTML input

        $.ajax({ // initialize an AJAX request
            url: url, // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
            data: {
                'category': categoryID // add the country id to the GET parameters
            },
            success: function (data) { // `data` is the return of the `load_cities` view function
                let categories = data.categories
                let c_dddd = document.querySelectorAll('.categories_dropdown')
                c_dddd.forEach(c_ddd => {
                    c_ddd.innerHTML = ''
                    categories.map(category => {
                        let drp_optt = document.createElement('option')
                        drp_optt.innerText = category.name
                        drp_optt.value = category.id
                        c_ddd.append(drp_optt)
                        // <option value="{{ city.pk }}">{{ city.name }}</option>
                        //   console.log(category)
                    })
                })
                // html(data);  // replace the contents of the city input with the data that came from the server
            }
        });
    });


    $(".new_store_name").change(function () {
        var url = $(".create_deal_form_p").attr("data-store-url"); // get the url of the `load_cities` view
        var storeID = $(this).val(); // get the selected country ID from the HTML input

        $.ajax({ // initialize an AJAX request
            url: url, // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
            data: {
                'store': storeID // add the country id to the GET parameters
            },
            success: function (data) { // `data` is the return of the `load_cities` view function
                console.log(data)
                let locations = data.locations
                let c_dddd = document.querySelectorAll('.location_dropdown')
                c_dddd.forEach(c_ddd => {
                    c_ddd.innerHTML = ''
                    locations.map(store => {
                        let drp_optt = document.createElement('option')
                        drp_optt.innerText = store.adress
                        drp_optt.value = store.id
                        c_ddd.append(drp_optt)
                        // <option value="{{ city.pk }}">{{ city.name }}</option>
                        console.log(store)
                    })
                })
                // html(data);  // replace the contents of the city input with the data that came from the server
            }
        });
    });

    let edit_deal_btns = document.querySelectorAll('.edit_deal_bt');
    if (edit_deal_btns.length > 0) {
        edit_deal_btns.forEach(edit_deal_btn => {
            edit_deal_btn.addEventListener('click', () => {
                fetch(edit_deal_btn.getAttribute('data-url')).then(resp => resp.json()).then(data => {
                    console.log(data.serializer.id);
                    let new_store_name = document.querySelector('.new_store_name');
                    let new_title = document.querySelector('.new_title');
                    let new_phn = document.querySelector('.new_phn');
                    let new_country = document.querySelector('.new_country');
                    let new_city = document.querySelector('.new_city');
                    let new_category = document.querySelector('.new_category');
                    let new_subcategory = document.querySelector('.new_subcategory');
                    let new_gender = document.querySelector('.new_gender');
                    let new_desc = document.querySelector('.new_desc');
                    let new_con = document.querySelector('.new_con');
                    // let new_str_date = document.querySelector('.new_str_date');
                    // let new_end_date = document.querySelector('.new_end_date');
                    let new_update_as_deal = document.querySelector('.new_update_as_dea');
                    new_store_name.value = data.serializer.store
                    new_title.value = data.serializer.title
                    new_phn.value = data.serializer.phone
                    new_country.value = data.serializer.country
                    new_city.value = data.serializer.city
                    new_category.value = data.serializer.category
                    new_subcategory.value = data.serializer.sub_category
                    new_gender.value = data.serializer.gender
                    new_desc.value = data.serializer.description
                    new_con.value = data.serializer.condition
                    // new_str_date.value= data.serializer.start_date
                    // new_end_date.value= data.serializer.end_date
                    new_update_as_deal.action = `/DealUpdateView/${data.serializer.id}`;
                })
            })
        })
    }
    const UpdateInpData = () => {

        let edit_deal_data = document.querySelector('.edit_deal_data');
        let parent = document.querySelectorAll('.dynamic-form')
        let all_data = []

        parent.forEach(card => {
            let id = card.querySelector('.id-field').value
            let title = card.querySelector('.title-field').value
            let desc = card.querySelector('.description-field').value
            let quantity = card.querySelector('.quantity-field').value
            let price = card.querySelector('.price-field').value
            let discount = card.querySelector('.discount-field').value
            let created_field = card.querySelector('.created_field')
            let is_deleted = card.querySelector('.is_deleted')
            console.log('delete', is_deleted)

            let card_data = {}
            card_data.id = id
            card_data.title = title
            card_data.description = desc
            card_data.quantity = quantity
            card_data.price = price
            card_data.discount = discount
            if (created_field) {
                card_data.created = true
            }
            if (is_deleted) {
                card_data.is_deleted = true
            }

            card_data = JSON.stringify(card_data)
            all_data.push(card_data)
        })
        all_data = JSON.stringify(`[${all_data}]`)
        all_data = all_data.replaceAll('\\', '')
        console.log(all_data)
        edit_deal_data.value = all_data

        let step_one_form = document.querySelector('.step-one-form');
        let step_two_form = document.querySelector('.step-two-form');

        let step_one_bar = document.querySelector('.step-one');
        let step_two_bar = document.querySelector('.step-two');
        step_one_bar.classList.add('step-active-fill');
        step_two_bar.classList.add('step-active');

        let create_deal_form_pp = document.querySelector('.create_deal_form_p');
        create_deal_form_pp.submit();
    }

    let continue_btn = document.getElementById('first_form_continue_btn')
    if (continue_btn) {
        continue_btn.addEventListener('click', UpdateInpData)
    } else {
        // alert('btn not dound')
    }
</script>
{% endblock body %}